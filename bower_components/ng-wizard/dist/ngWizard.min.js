angular.module("ngWizard",["720kb.tooltips","ngAnimate","ngWizardTemplates"]).directive("wizard",["$window","$q",function(a,b){"use strict";return{restrict:"E",transclude:!0,scope:{currentStepNumber:"=",submit:"&"},templateUrl:"ngWizardTemplate.html",controller:function(a,c){a.prevString=c.prevString,a.nextString=c.nextString,a.submitString=c.submitString,a.currentStepNumber=a.currentStepNumber||0,a.getCurrentStep=function(){return a.steps[a.currentStepNumber]},this.getCurrentStep=a.getCurrentStep,a.goToStepByReference=function(b){var c=a.steps.indexOf(b);return a.goToStep(c)};var d=function(b){return b<a.steps.length&&b>=0};a.canGoToStep=function(b){if(!d(b))return!1;var c=a.steps[b];return a.getStepState(c)!=a.stepStatesEnum.disabled},a.goToStep=function(b){return!!a.canGoToStep(b)&&(a.currentStepNumber=b,!0)},a.getStepState=function(b){return b.requiredStepNumber&&d(b.requiredStepNumber)&&a.getStepState(a.steps[b.requiredStepNumber])!=a.stepStatesEnum.complete?a.stepStatesEnum.disabled:b.stepForm&&b.stepForm.$valid?a.stepStatesEnum.complete:a.stepStatesEnum.ready},a.stepStatesEnum={disabled:0,ready:1,complete:2},a.goToNext=function(){a.goToStep(a.currentStepNumber+1)},a.hasNext=function(){return a.steps.length>a.currentStepNumber+1&&a.getStepState(a.steps[a.currentStepNumber+1])!=a.stepStatesEnum.disabled},a.goToPrevious=function(){a.goToStep(a.currentStepNumber-1)},a.hasPrevious=function(){return a.currentStepNumber>0},a.getProgressPercentage=function(){var b=a.steps.filter(function(b){return a.getStepState(b)==a.stepStatesEnum.complete});return b.length/a.steps.length*100},a.steps=[],this.registerStep=function(b){a.steps.push(b)},this.unregisterStep=function(b){var c=a.steps.indexOf(b);c>=0&&a.steps.splice(c,1)},a.isSubmittable=function(){return a.steps.every(function(b){return a.getStepState(b)==a.stepStatesEnum.complete})},a.submitting=!1,a.onSubmitClicked=function(){a.submitting=!0,b.when(a.submit()).then(function(){a.submitting=!1})},a.$watch("currentStepNumber",function(b,c){b!=c&&(a.canGoToStep(b)?a.getCurrentStep().entered():c&&a.canGoToStep(c)?a.currentStepNumber=c:a.currentStepNumber=0)}),a.$watch("steps.length",function(){a.getCurrentStep()||(a.currentStepNumber=0)},!0)}}}]).directive("wizardStep",function(){return{require:"^wizard",restrict:"E",transclude:!0,scope:{title:"@",requiredStepNumber:"@",entered:"&",animation:"@"},template:"<ng-form name='stepForm' ng-show='isActive()' class='wizard-step animate'  ng-class='animation || \"slide\"'><ng-transclude></ng-transclude></ng-form>",link:function(a,b,c,d){d.registerStep(a),a.isActive=function(){return a==d.getCurrentStep()},a.$on("$destroy",function(){d.unregisterStep(a)})}}}).provider("wizardConfigProvider",function(){this.nextString="Next",this.prevString="Previous",this.submitString="Submit",this.$get=function(){return this}}),angular.module("ngWizardTemplates",["ngWizardTemplate.html"]),angular.module("ngWizardTemplate.html",[]).run(["$templateCache",function(a){a.put("ngWizardTemplate.html",'<div class="row wizard-container">\n    <div class="col-md-3 col-xs-12">\n        <ul class="nav nav-pills nav-stacked wizard-sidebar">\n            <li tooltip="{{getProgressPercentage() | number : 2}}%">\n                <progressbar value="getProgressPercentage()" type="{{getProgressPercentage() == 100 ? \'success\' : \'default\'}}"></progressbar>\n            </li>\n            <li ng-repeat="step in steps" ng-class="{disabled: getStepState(step) == stepStatesEnum.disabled, active: getCurrentStep() == step}"\n                ng-click="goToStepByReference(step)" ng-disabled="getStepState(step) == stepStatesEnum.disabled">\n                <a>\n                    {{step.title}} <i class="fa fa-check" ng-show="getStepState(step) == stepStatesEnum.complete"></i>\n                </a>\n            </li>\n        </ul>\n    </div>\n    <div class="col-md-9 col-xs-12 wizard-main">\n        <ul class="pager">\n            <li class="previous" ng-class="{disabled: !hasPrevious()}"><a ng-click="goToPrevious()"><i class="fa fa-arrow-circle-left"></i> {{prevString}}</a></li>\n            <li ng-repeat="step in steps">\n                <i class="fa" ng-class="{\'fa-circle-o disabled\': getStepState(step) == stepStatesEnum.disabled, \'fa-circle\': getStepState(step) == stepStatesEnum.complete, \'fa-circle-o\': getStepState(step) == stepStatesEnum.ready, selected: getCurrentStep() == step}"\n                   ng-click="goToStepByReference(step)" tooltips tooltip-template="{{step.title}}" tooltip-side="top"></i>\n            </li>\n            <li class="next" ng-class="{disabled: !hasNext()}"><a ng-click="goToNext()">{{nextString}} <i class="fa fa-arrow-circle-right"></i></a></li>\n        </ul>\n        <div class="wizard-step-container" ng-transclude></div>\n    </div>\n    <div class="row">\n        <div class="col-xs-12">\n            <button class="btn btn-primary btn-block submit animate fade-in-out" ng-hide="!isSubmittable()" ng-click="onSubmitClicked()" ng-disabled="submitting">{{submitString}} <i class="fa fa-circle-o-notch fa-spin" ng-show="submitting"></i></button>\n        </div>\n    </div>\n</div>\n')}]),!function(a,b){"use strict";var c="tooltips",d=function(){var a=[],c=0,d=function(d){d-c>=15?(a.forEach(function(a){a()}),c=d):b.console.log("Skipped!")},e=function(){b.requestAnimationFrame(d)},f=function(b){b&&a.push(b)};return{add:function(c){a.length||b.addEventListener("resize",e),f(c)}}}(),e=function(a){var b={};return a.removeAttr(c),void 0!==a.attr("tooltip-template")&&(b["tooltip-template"]=a.attr("tooltip-template"),a.removeAttr("tooltip-template")),void 0!==a.attr("tooltip-template-url")&&(b["tooltip-template-url"]=a.attr("tooltip-template-url"),a.removeAttr("tooltip-template-url")),void 0!==a.attr("tooltip-controller")&&(b["tooltip-controller"]=a.attr("tooltip-controller"),a.removeAttr("tooltip-controller")),void 0!==a.attr("tooltip-side")&&(b["tooltip-side"]=a.attr("tooltip-side"),a.removeAttr("tooltip-side")),void 0!==a.attr("tooltip-show-trigger")&&(b["tooltip-show-trigger"]=a.attr("tooltip-show-trigger"),a.removeAttr("tooltip-show-trigger")),void 0!==a.attr("tooltip-hide-trigger")&&(b["tooltip-hide-trigger"]=a.attr("tooltip-hide-trigger"),a.removeAttr("tooltip-hide-trigger")),void 0!==a.attr("tooltip-smart")&&(b["tooltip-smart"]=a.attr("tooltip-smart"),a.removeAttr("tooltip-smart")),void 0!==a.attr("tooltip-class")&&(b["tooltip-class"]=a.attr("tooltip-class"),a.removeAttr("tooltip-class")),void 0!==a.attr("tooltip-close-button")&&(b["tooltip-close-button"]=a.attr("tooltip-close-button"),a.removeAttr("tooltip-close-button")),void 0!==a.attr("tooltip-size")&&(b["tooltip-size"]=a.attr("tooltip-size"),a.removeAttr("tooltip-size")),void 0!==a.attr("tooltip-speed")&&(b["tooltip-speed"]=a.attr("tooltip-speed"),a.removeAttr("tooltip-speed")),b},f=function(a){return b.getComputedStyle?b.getComputedStyle(a,""):a.currentStyle?a.currentStyle:void 0},g=function(c){for(var d,e,f=b.document.querySelectorAll("._exradicated-tooltip"),g=0,h=f.length;h>g;g+=1)if(d=f.item(g),d&&(e=a.element(d),e.data("_tooltip-parent")&&e.data("_tooltip-parent")===c))return e},h=function(a){var b=g(a);b&&b.remove()},i=function(a){if(a){var c=a[0].getBoundingClientRect();return(c.top<0||c.top>b.document.body.offsetHeight||c.left<0||c.left>b.document.body.offsetWidth||c.bottom<0||c.bottom>b.document.body.offsetHeight||c.right<0||c.right>b.document.body.offsetWidth)&&(a.css({top:"",left:"",bottom:"",right:""}),!0)}throw new Error("You must provide a position")},j=function(){var a={side:"top",showTrigger:"mouseover",hideTrigger:"mouseleave","class":"",smart:!1,closeButton:!1,size:"",speed:"steady"};return{configure:function(b){var c,d=Object.keys(a),e=0;if(b)for(;e<d.length;e+=1)c=d[e],c&&b[c]&&(a[c]=b[c])},$get:function(){return a}}},k=["$log","$http","$compile","$timeout","$controller","$injector","tooltipsConf",function(c,j,k,l,m,n,o){var p=function(c,n,p,q,r){if(p.tooltipTemplate&&p.tooltipTemplateUrl)throw new Error("You can not define tooltip-template and tooltip-template-url together");if(!p.tooltipTemplateUrl&&!p.tooltipTemplate&&p.tooltipController)throw new Error("You can not have a controller without a template or templateUrl defined");var s,t="_"+o.side,u=o.showTrigger,v=o.hideTrigger,w=o.size,x="_"+o.speed;p.tooltipSide=p.tooltipSide||o.side,p.tooltipShowTrigger=p.tooltipShowTrigger||o.showTrigger,p.tooltipHideTrigger=p.tooltipHideTrigger||o.hideTrigger,p.tooltipClass=p.tooltipClass||o["class"],p.tooltipSmart="true"===p.tooltipSmart||o.smart,p.tooltipCloseButton=p.tooltipCloseButton||o.closeButton.toString(),p.tooltipSize=p.tooltipSize||o.size,p.tooltipSpeed=p.tooltipSpeed||o.speed,p.tooltipAppendToBody="true"===p.tooltipAppendToBody,r(c,function(c,o){var q=e(c),r=a.element(b.document.createElement("tooltip")),y=a.element(b.document.createElement("tip-cont")),z=a.element(b.document.createElement("tip")),A=a.element(b.document.createElement("tip-tip")),B=a.element(b.document.createElement("span")),C=a.element(b.document.createElement("tip-arrow")),D=function(){return y.html()},E=function(a){void 0!==a&&y[0].getClientRects().length>1?r.addClass("_multiline"):r.removeClass("_multiline")},F=function(c){if(z.addClass("_hidden"),p.tooltipSmart)switch(p.tooltipSide){case"top":i(z)&&(r.removeClass("_top"),r.addClass("_left"),i(z)&&(r.removeClass("_left"),r.addClass("_bottom"),i(z)&&(r.removeClass("_bottom"),r.addClass("_right"),i(z)&&(r.removeClass("_right"),r.addClass("_top")))));break;case"left":i(z)&&(r.removeClass("_left"),r.addClass("_bottom"),i(z)&&(r.removeClass("_bottom"),r.addClass("_right"),i(z)&&(r.removeClass("_right"),r.addClass("_top"),i(z)&&(r.removeClass("_top"),r.addClass("_left")))));break;case"bottom":i(z)&&(r.removeClass("_bottom"),r.addClass("_left"),i(z)&&(r.removeClass("_left"),r.addClass("_top"),i(z)&&(r.removeClass("_top"),r.addClass("_right"),i(z)&&(r.removeClass("_right"),r.addClass("_bottom")))));break;case"right":i(z)&&(r.removeClass("_right"),r.addClass("_top"),i(z)&&(r.removeClass("_top"),r.addClass("_left"),i(z)&&(r.removeClass("_left"),r.addClass("_bottom"),i(z)&&(r.removeClass("_bottom"),r.addClass("_right")))));break;default:throw new Error("Position not supported")}if(p.tooltipAppendToBody){var d,e,g,j,k,l=f(A[0]),m=f(C[0]),n=f(z[0]),o=z[0].getBoundingClientRect(),q=a.copy(z),s=0,t=l.length,u=0,v=m.length,w=0,x=n.length,y={},B={},D={};for(z.removeClass("_hidden"),q.removeClass("_hidden"),q.data("_tooltip-parent",r),h(r);t>s;s+=1)d=l[s],d&&l.getPropertyValue(d)&&(y[d]=l.getPropertyValue(d));for(;v>u;u+=1)d=m[u],d&&m.getPropertyValue(d)&&(D[d]=m.getPropertyValue(d));for(;x>w;w+=1)d=n[w],d&&"position"!==d&&"display"!==d&&"opacity"!==d&&"z-index"!==d&&"bottom"!==d&&"height"!==d&&"left"!==d&&"right"!==d&&"top"!==d&&"width"!==d&&n.getPropertyValue(d)&&(B[d]=n.getPropertyValue(d));e=b.parseInt(n.getPropertyValue("padding-top"),10),g=b.parseInt(n.getPropertyValue("padding-bottom"),10),j=b.parseInt(n.getPropertyValue("padding-left"),10),k=b.parseInt(n.getPropertyValue("padding-right"),10),B.top=o.top+b.scrollY+"px",B.left=o.left+b.scrollX+"px",B.height=o.height-(e+g)+"px",B.width=o.width-(j+k)+"px",q.css(B),q.children().css(y),q.children().next().css(D),c&&"true"!==p.tooltipHidden&&(q.addClass("_exradicated-tooltip"),a.element(b.document.body).append(q))}else z.removeClass("_hidden"),c&&"true"!==p.tooltipHidden&&r.addClass("active")},G=function(){p.tooltipAppendToBody?h(r):r.removeClass("active")},H=function da(a){var b,c=a.parent();a[0]&&(a[0].scrollHeight>a[0].clientHeight||a[0].scrollWidth>a[0].clientWidth)&&a.on("scroll",function(){var a=this;b&&l.cancel(b),b=l(function(){var b=g(r),c=r[0].getBoundingClientRect(),d=a.getBoundingClientRect();c.top<d.top||c.bottom>d.bottom||c.left<d.left||c.right>d.right?h(r):b&&F(!0)})}),c&&c.length&&da(c)},I=function(a){a?(r.removeClass("_force-hidden"),A.empty(),A.append(B),A.append(a),l(function(){F()})):(A.empty(),r.addClass("_force-hidden"))},J=function(a){a?j.get(a).then(function(a){a&&a.data&&(r.removeClass("_force-hidden"),A.empty(),A.append(B),A.append(k(a.data)(o)),l(function(){F()}))}):(A.empty(),r.addClass("_force-hidden"))},K=function(a){a&&(t&&r.removeAttr("_"+t),r.addClass("_"+a),t=a)},L=function(a){a&&(u&&r.off(u),r.on(a,F),u=a)},M=function(a){a&&(v&&r.off(v),r.on(a,G),v=a)},N=function(a){a&&(s&&z.removeClass(s),z.addClass(a),s=a)},O=function(){"boolean"!=typeof p.tooltipSmart&&(p.tooltipSmart="true"===p.tooltipSmart)},P=function(a){var b="true"===a;b?(B.on("click",G),B.css("display","block")):(B.off("click"),B.css("display","none"))},Q=function(b){if(b){var c,d=m(b,{$scope:o}),e=o.$new(!1,o),f=b.indexOf("as");f>=0?(c=b.substr(f+3),e[c]=d):a.extend(e,d),A.replaceWith(k(A)(e)),_()}},R=function(a){a&&(w&&A.removeClass("_"+w),A.addClass("_"+a),w=a)},S=function(a){a&&(x&&r.removeClass("_"+x),r.addClass("_"+a),x=a)},T=p.$observe("tooltipTemplate",I),U=p.$observe("tooltipTemplateUrl",J),V=p.$observe("tooltipSide",K),W=p.$observe("tooltipShowTrigger",L),X=p.$observe("tooltipHideTrigger",M),Y=p.$observe("tooltipClass",N),Z=p.$observe("tooltipSmart",O),$=p.$observe("tooltipCloseButton",P),_=p.$observe("tooltipController",Q),aa=p.$observe("tooltipSize",R),ba=p.$observe("tooltipSpeed",S),ca=o.$watch(D,E);B.attr({id:"close-button"}),B.html("&times;"),z.addClass("_hidden"),A.append(B),A.append(p.tooltipTemplate),z.append(A),z.append(C),y.append(c),r.attr(q),r.addClass("tooltips"),r.append(y),r.append(z),n.after(r),p.tooltipAppendToBody&&(d.add(function(){H(r)}),H(r)),d.add(function(){E(),F()}),l(function(){F(),z.removeClass("_hidden"),r.addClass("_ready")}),o.$on("$destroy",function(){T(),U(),V(),W(),X(),Y(),Z(),$(),aa(),ba(),ca(),c.off(p.tooltipShowTrigger+" "+p.tooltipHideTrigger)})})};return{restrict:"A",transclude:"element",priority:1,terminal:!0,link:p}}];a.module("720kb.tooltips",[]).provider(c+"Conf",j).directive(c,k)}(angular,window);